---
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r}
library(tidyverse, warn.conflicts = FALSE)
```

### Questions

* Why explore your data? To understand your data.

* How to explore your data? Using **questions** as tools to focus on a specific part of your data.

Two types of questions are always useful:

* What type of **variation** occurs within my variables?

* What type of **covariation** occurs between my variables?

### Definitions

* Variable ~ column.

* Value ~ cell.

* Observation ~ row.

* Tabular data ~ spreadsheet.

* Tidy data ([paper](https://vita.had.co.nz/papers/tidy-data.pdf),
[tidyr](https://tidyr.tidyverse.org/) package).

> Tidy datasets are easy to manipulate, model and visualise, and have a specific structure: each variable is a column, each observation is a row.

<img src=https://i.imgur.com/nBC5Rk9.png width=700>

### Variation

> Variation is the tendency of the values of a variable to change from
measurement to measurement.

> Every variable has its own pattern of variation. 

> The best way to understand that pattern is to visualise the distribution of
the variable's values.


--


> A variable is categorical if it can only take one of a small set of values.

```{r}
ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut))
```

```{r}
diamonds %>% 
  count(cut)
```

> A variable is continuous if it can take any of an infinite set of ordered
values.

```{r}
ggplot(data = diamonds) +
  geom_histogram(mapping = aes(x = carat), binwidth = 0.5)
```

```{r}
diamonds %>% 
  count(cut_width(carat, 0.5))
```

* Tip: Different binwidths can reveal different patterns.

```{r}
smaller <- diamonds %>% 
  filter(carat < 3)
  
ggplot(data = smaller, mapping = aes(x = carat)) +
  geom_histogram(binwidth = 0.1)
```

* Overlay multiple histograms in the same plot:`geom_freqpoly()`.

Follow-up questions:

### Typical values

* Which values are the most common? Why?
* Which values are rare? Why? Does that match your expectations?
* Can you see any unusual patterns? What might explain them?
* How are the observations within each cluster similar to each other?
* How are the observations in separate clusters different from each other?
* How can you explain or describe the clusters?
* Why might the appearance of clusters be misleading?

