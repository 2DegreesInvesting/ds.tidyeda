---
output: github_document
---

# Exploratory data analysis with the tidyverse

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Workflow

![](https://i.imgur.com/MitpHrJ.png)

https://r4ds.had.co.nz/introduction.html

## Toolkit

![](https://i.imgur.com/i61n3xb.png)

https://www.tidyverse.org/

```{r packages}
library(tidyverse)
```

### Tidy data

> Tidy datasets are easy to
manipulate, model and visualise, and have a specific structure: each variable is
a column, each observation is a row.
-- https://vita.had.co.nz/papers/tidy-data.pdf

![](https://i.imgur.com/nBC5Rk9.png)

```{r}
diamonds
```

### Visualize data with ggplot

![](https://i.imgur.com/WsoXgV2.png)

Template:

```
ggplot(data = <DATA>) +
  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))
```

Example:

```{r}
ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut))
```

https://ggplot2.tidyverse.org/

### Data transformation with dplyr

The main verbs:

* `mutate()` adds columns.
* `select()` picks columns.
* `count()` count observations by group.

https://dplyr.tidyverse.org/

Example:

```{r}
arrange(diamonds, price)

# Same
diamonds %>% arrange(price)

diamonds %>% 
  arrange(price) %>% 
  filter(price > 1000) %>% 
  select(color, cut)

diamonds %>% 
  count(cut)
```
